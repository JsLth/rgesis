<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Authenticate user — gesis_auth • rgesis</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="../deps/MathJax-3.2.2/tex-chtml.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Authenticate user — gesis_auth"><meta name="description" content="Authenticate a GESIS user account using OAuth 2.0. This is necessary to
download datasets using gesis_data."><meta property="og:description" content="Authenticate a GESIS user account using OAuth 2.0. This is necessary to
download datasets using gesis_data."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rgesis</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span> Overview</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/gesis-data.html"><span class="fa fa-book"></span> Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-search"></span> Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jslth/rgesis/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Authenticate user</h1>
      <small class="dont-index">Source: <a href="https://github.com/jslth/rgesis/blob/main/R/gesis_auth.R" class="external-link"><code>R/gesis_auth.R</code></a></small>
      <div class="d-none name"><code>gesis_auth.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Authenticate a GESIS user account using OAuth 2.0. This is necessary to
download datasets using <code><a href="gesis_data.html">gesis_data</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">gesis_auth</span><span class="op">(</span>email <span class="op">=</span> <span class="cn">NULL</span>, password <span class="op">=</span> <span class="cn">NULL</span>, prompt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">gesis_can_auth</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-email-password">email, password<a class="anchor" aria-label="anchor" href="#arg-email-password"></a></dt>
<dd><p>Email address and password linked to a GESIS user
account. These only have to be provided once and will be retrieved using
<code><a href="https://keyring.r-lib.org/reference/key_get.html" class="external-link">key_get</a></code> afterwards. If not specified and
<code>prompt = TRUE</code>, asks for email and password interactively.</p></dd>


<dt id="arg-prompt">prompt<a class="anchor" aria-label="anchor" href="#arg-prompt"></a></dt>
<dd><p>If <code>TRUE</code> and <code>email</code> or <code>password</code> are
not specified, opens a console prompt to provide these arguments. If
<code>FALSE</code>, throws an error in this case. Defaults to <code>TRUE</code> if
run in an interactive session.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>gesis_auth</code> returns <code>NULL</code>, invisibly.
<code>gesis_can_auth</code> always returns <code>TRUE</code> or <code>FALSE</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>gesis_auth()</code> performs a GESIS login once and, if successful, stores
the credentials used for the login in a <a href="https://keyring.r-lib.org/reference/has_keyring_support.html" class="external-link">keyring</a>
on the disk. For all subsequent authentications, the credentials are
retrieved from the keyring to authenticate automatically. To prevent the
authentication process to access the stored credentials every time an
OAuth request is sent, you can set <code>options(rgesis_cache_disk = TRUE)</code>
to allow the access token to be cached. Note that this comes at the cost
of storing access credentials on disk. See
<code><a href="https://httr2.r-lib.org/reference/req_oauth_password.html" class="external-link">req_oauth_password</a></code> for details.</p>
<p>To check if the package can successfully authenticate without passing
new credentials, you can run <code>gesis_can_auth()</code>. Note that this
function catches all types of errors that occur when trying to
authenticate. It does not make assumptions about the reason why an error
occured. In other words, a failing auth check is not a guarantee that an
authentication is invalid. This function can be handy to check if datasets
can be downloaded in automated workflows without throwing an error. For
example:</p>
<div class="sourceCode"><pre><code><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="../reference/gesis_auth.html">gesis_can_auth</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="../reference/gesis_data.html">gesis_data</a></span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># if email and password are not stored yet, gesis_auth() registers them</span></span></span>
<span class="r-in"><span><span class="co"># in a keyring and checks if they work</span></span></span>
<span class="r-in"><span><span class="fu">gesis_auth</span><span class="op">(</span>email <span class="op">=</span> <span class="st">"name@test.org"</span>, password <span class="op">=</span> <span class="st">"DONTLOOK"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># if credentials are already stored in a keyring, gesis_auth() simply</span></span></span>
<span class="r-in"><span><span class="co"># checks if the login works</span></span></span>
<span class="r-in"><span><span class="fu">gesis_auth</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jonas Lieth.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

